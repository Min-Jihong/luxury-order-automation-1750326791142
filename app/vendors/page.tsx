'use client';import{useState,useEffect}from'react';import{Card,CardContent,CardHeader,CardTitle}from'@/components/ui/card';import{VendorOrderTable}from'@/components/VendorOrderTable';import{VendorOrderDetailModal}from'@/components/VendorOrderDetailModal';export interface VendorOrder{id:string;itemName:string;quantity:number;status:'발주 대기'|'발주 완료'|'취소';vendorName:string;orderDate:string;deliveryAddress:string;contactInfo:string;notes?:string;}export default function VendorsPage(){const[vendorOrders,setVendorOrders]=useState<VendorOrder[]>([]);const[selectedOrder,setSelectedOrder]=useState<VendorOrder|null>(null);const[isModalOpen,setIsModalOpen]=useState(false);useEffect(()=>{conststoredOrders=localStorage.getItem('vendorOrders');if(storedOrders){setVendorOrders(JSON.parse(storedOrders));}else{constinitialOrders:VendorOrder[]=[{id:'VO001',itemName:'명품 가방 A',quantity:1,status:'발주 대기',vendorName:'럭셔리 부티크',orderDate:'2023-10-26',deliveryAddress:'서울시 강남구 테헤란로 123',contactInfo:'010-1234-5678',notes:'빠른 배송 요청'},{id:'VO002',itemName:'명품 시계 B',quantity:1,status:'발주 완료',vendorName:'프리미엄 워치',orderDate:'2023-10-25',deliveryAddress:'부산시 해운대구 센텀시티로 45',contactInfo:'010-9876-5432'},{id:'VO003',itemName:'명품 신발 C',quantity:2,status:'발주 대기',vendorName:'트렌디 슈즈',orderDate:'2023-10-27',deliveryAddress:'대구시 중구 동성로 78',contactInfo:'010-1122-3344',notes:'색상 확인 필요'}];setVendorOrders(initialOrders);localStorage.setItem('vendorOrders',JSON.stringify(initialOrders));}},[]);consthandleViewDetails=(order:VendorOrder)=>{setSelectedOrder(order);setIsModalOpen(true);};consthandleUpdateStatus=(orderId:string,newStatus:VendorOrder['status'])=>{setVendorOrders(prevOrders=>{constupdatedOrders=prevOrders.map(order=>order.id===orderId?{...order,status:newStatus}:order);localStorage.setItem('vendorOrders',JSON.stringify(updatedOrders));returnupdatedOrders;});if(selectedOrder&&selectedOrder.id===orderId){setSelectedOrder(prev=>prev?{...prev,status:newStatus}:null);}};return(<divclassName="flexmin-h-screenw-fullflex-colbg-muted/40"><divclassName="flexflex-colsm:gap-4sm:py-4sm:pl-14"><mainclassName="gridflex-1items-startgap-4p-4sm:px-6sm:py-0md:gap-8"><Card><CardHeader><CardTitle>발주관리</CardTitle></CardHeader><CardContent><VendorOrderTableorders={vendorOrders}onViewDetails={handleViewDetails}onUpdateStatus={handleUpdateStatus}/></CardContent></Card></main></div>{selectedOrder&&(<VendorOrderDetailModalorder={selectedOrder}isOpen={isModalOpen}onClose={()=>setIsModalOpen(false)}onUpdateStatus={handleUpdateStatus}/>)}</div>);}